<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ex.store.sys.mapper.ResourceMapper">


    <select id="findResourceByCondition" parameterType="com.ex.store.core.vo.PageParameter"
            resultType="com.ex.store.core.pojo.ExSysResource">
        select `name`, `category`, `url`, `id`, `desc`, `isForbid`, `model`, `type`, `sort`, `icon`, `pid` from
        ex_sys_resource
        <where>
            1=1
            <if test="parameter.name != null and parameter.name != ''">
                and name LIKE concat('%',#{parameter.name,jdbcType=VARCHAR},'%')
            </if>
            <if test="parameter.category != null and parameter.category != ''">
                and 'category' = #{parameter.category,jdbcType=VARCHAR}
            </if>
            <if test="parameter.url != null and parameter.url != ''">
                and 'url' = #{parameter.url,jdbcType=VARCHAR}
            </if>
            <if test="parameter.desc != null and parameter.desc != ''">
                and 'desc' = #{parameter.desc,jdbcType=VARCHAR}
            </if>
            <if test="parameter.isForbid != null and parameter.isForbid != ''">
                and 'isForbid' = #{parameter.isForbid,jdbcType=VARCHAR}
            </if>
            <if test="parameter.model != null and parameter.model != ''">
                and 'model' = #{parameter.model,jdbcType=VARCHAR}
            </if>
            <if test="parameter.type != null and parameter.type != ''">
                and 'type' = #{parameter.type,jdbcType=VARCHAR}
            </if>
            <if test="parameter.sort != null and parameter.sort != ''">
                and 'sort' = #{parameter.sort,jdbcType=VARCHAR}
            </if>
            <if test="parameter.icon != null and parameter.icon != ''">
                and 'icon' = #{parameter.icon,jdbcType=VARCHAR}
            </if>
        </where>
        limit ${(page - 1) * limit} , #{limit}
    </select>

</mapper>